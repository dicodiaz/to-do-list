(()=>{"use strict";var e={426:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(537),a=n.n(s),o=n(645),r=n.n(o)()(a());r.push([e.id,"input:focus {\n  outline: none;\n}\n\ni {\n  opacity: 0.5;\n  transition: opacity 0.2s ease-in-out;\n}\n\ni:hover {\n  opacity: 1;\n}\n\n#clear-all {\n  opacity: 0.5;\n}\n\n#clear-all:hover {\n  opacity: 1;\n  text-decoration: underline;\n}\n\n#clear-all:focus {\n  box-shadow: none;\n}\n\n.cursor-pointer {\n  cursor: pointer;\n}\n\n.cursor-move {\n  cursor: move;\n}\n\n.td-line-through {\n  text-decoration: line-through;\n}\n\n#warning {\n  transition: opacity 1s ease-in-out;\n}\n\n.table > :not(:last-child) > :last-child > * {\n  border-bottom-color: inherit;\n}\n","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;EACE,aAAa;AACf;;AAEA;EACE,YAAY;EACZ,oCAAoC;AACtC;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,UAAU;EACV,0BAA0B;AAC5B;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,6BAA6B;AAC/B;;AAEA;EACE,kCAAkC;AACpC;;AAEA;EACE,4BAA4B;AAC9B",sourcesContent:["input:focus {\n  outline: none;\n}\n\ni {\n  opacity: 0.5;\n  transition: opacity 0.2s ease-in-out;\n}\n\ni:hover {\n  opacity: 1;\n}\n\n#clear-all {\n  opacity: 0.5;\n}\n\n#clear-all:hover {\n  opacity: 1;\n  text-decoration: underline;\n}\n\n#clear-all:focus {\n  box-shadow: none;\n}\n\n.cursor-pointer {\n  cursor: pointer;\n}\n\n.cursor-move {\n  cursor: move;\n}\n\n.td-line-through {\n  text-decoration: line-through;\n}\n\n#warning {\n  transition: opacity 1s ease-in-out;\n}\n\n.table > :not(:last-child) > :last-child > * {\n  border-bottom-color: inherit;\n}\n"],sourceRoot:""}]);const i=r},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",s=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),s&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),s&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,s,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(s)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(r[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);s&&r[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),t.push(d))}},t}},537:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),o="/*# ".concat(a," */"),r=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(r).concat([o]).join("\n")}return[t].join("\n")}},379:e=>{var t=[];function n(e){for(var n=-1,s=0;s<t.length;s++)if(t[s].identifier===e){n=s;break}return n}function s(e,s){for(var o={},r=[],i=0;i<e.length;i++){var c=e[i],l=s.base?c[0]+s.base:c[0],d=o[l]||0,u="".concat(l," ").concat(d);o[l]=d+1;var p=n(u),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var m=a(h,s);s.byIndex=i,t.splice(i,0,{identifier:u,updater:m,references:1})}r.push(u)}return r}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=s(e=e||[],a=a||{});return function(e){e=e||[];for(var r=0;r<o.length;r++){var i=n(o[r]);t[i].references--}for(var c=s(e,a),l=0;l<o.length;l++){var d=n(o[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}o=c}}},569:e=>{var t={};e.exports=function(e,n){var s=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,a&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(s,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(s){var a=t[s];if(void 0!==a)return a.exports;var o=t[s]={id:s,exports:{}};return e[s](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{const e=(e,t,n)=>{e.preventDefault();const s=((e,t)=>[...e.querySelectorAll(".draggable:not(.dragging)")].reduce(((e,n)=>{const s=n.getBoundingClientRect(),a=t-s.top-s.height/2;return a<0&&a>e.offset?{offset:a,element:n}:e}),{offset:Number.NEGATIVE_INFINITY}).element)(n,e.clientY||e.touches[0].clientY),a=document.querySelector(".dragging"),o=t.findIndex((e=>e.node===a));let r;s?(n.insertBefore(a,s),r=t.findIndex((e=>e.node===s))-1):(n.appendChild(a),r=t.length-1),o>r&&(r+=1),t[o].afterElementIndex=r};var t=n(379),s=n.n(t),a=n(795),o=n.n(a),r=n(569),i=n.n(r),c=n(565),l=n.n(c),d=n(216),u=n.n(d),p=n(589),h=n.n(p),m=n(426),v={};v.styleTagTransform=h(),v.setAttributes=l(),v.insert=i().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=u(),s()(m.Z,v),m.Z&&m.Z.locals&&m.Z.locals;class f{constructor({description:e,completed:t=!1,index:n}){this.description=e,this.completed=t,this.index=n}}const A=document.querySelector("#to-do-list"),g=document.querySelector("#refresh"),E=document.getElementById("liveAlertPlaceholder"),y=document.querySelector("#add-task"),L=document.querySelector("#enter"),C=document.querySelector("#clear-all"),k=document.querySelector("#warning"),x=new class{constructor({tasks:e=[]}={}){this.tasks=e}saveLocalTasks(){return localStorage.setItem("tasks",JSON.stringify(this.tasks)),this}loadLocalTasks(){const e=JSON.parse(localStorage.getItem("tasks"));return e&&e.forEach(((e,t)=>{this.tasks[t]=new f(e)})),this}sortByIndex(){return this.tasks.sort(((e,t)=>e.index-t.index)),this}adjustIndexes(){return this.tasks.forEach(((e,t)=>{e.index=t+1})),this}add(e){return this.tasks.push(e),this.saveLocalTasks()}remove(e){return this.tasks=this.tasks.filter((t=>t!==e)),e.node.remove(),this.adjustIndexes().saveLocalTasks()}clearAllCompleted(){return this.tasks=this.tasks.filter((e=>(e.completed&&e.node.remove(),!e.completed))),this.adjustIndexes().saveLocalTasks()}move(e,t){return this.tasks.splice(t,0,this.tasks.splice(e,1)[0]),this}populateAll(e){return this.sortByIndex().tasks.forEach((t=>{this.populate(e,t)})),this}populate(e,t){const n=document.createElement("tr");n.classList.add("draggable"),n.draggable=!0;const s=document.createElement("td"),a=document.createElement("input");a.classList.add("form-check-input"),a.type="checkbox";const o=document.createElement("span");o.classList.add("ps-2"),o.innerText=t.description,s.appendChild(a),s.appendChild(o);const r=document.createElement("td");r.classList.add("align-middle","position-relative");const i=document.createElement("div");i.classList.add("d-flex","justify-content-end","pe-1");const c=document.createElement("i");c.classList.add("fas","fa-ellipsis-v"),c.alt="bot";const l=document.createElement("i");l.classList.add("far","fa-trash-alt","cursor-pointer","cursor-move","position-absolute","opacity-0"),l.alt="top",i.appendChild(c),i.appendChild(l),r.appendChild(i),n.appendChild(s),n.appendChild(r),e.appendChild(n),t.node=n,a.addEventListener("change",(()=>{a.checked?(t.completed=!0,o.classList.add("td-line-through"),s.classList.add("opacity-50")):(t.completed=!1,o.classList.remove("td-line-through"),s.classList.remove("opacity-50")),this.saveLocalTasks()})),t.completed&&(a.checked=!0,o.classList.add("td-line-through"),s.classList.add("opacity-50"));const d=document.createElement("input");return d.type="text",d.classList.add("border-0","ps-2","bg-secondary","text-white"),l.addEventListener("click",(()=>{l.classList.contains("cursor-move")?(c.classList.toggle("opacity-0"),l.classList.toggle("opacity-0"),l.classList.toggle("cursor-move"),n.classList.add("bg-secondary"),d.value=o.innerText,s.replaceChild(d,o),d.focus()):this.remove(t)})),d.addEventListener("blur",(()=>{setTimeout((()=>{o.innerText=d.value,s.replaceChild(o,d),c.classList.toggle("opacity-0"),l.classList.toggle("opacity-0"),l.classList.toggle("cursor-move"),n.classList.remove("bg-secondary"),t.description=d.value,this.saveLocalTasks()}),100)})),d.addEventListener("keyup",(e=>{13===e.keyCode&&d.blur()})),n.addEventListener("dragstart",(()=>{n.classList.add("dragging","bg-light")})),n.addEventListener("dragend",(()=>{n.classList.remove("dragging","bg-light");const e=this.tasks.findIndex((e=>e.node===n));e!==t.afterElementIndex&&this.move(e,t.afterElementIndex),this.adjustIndexes().saveLocalTasks()})),n.addEventListener("touchstart",(()=>{n.classList.add("dragging","bg-light")})),n.addEventListener("touchend",(()=>{n.classList.remove("dragging","bg-light");const e=this.tasks.findIndex((e=>e.node===n));e!==t.afterElementIndex&&this.move(e,t.afterElementIndex),this.adjustIndexes().saveLocalTasks()})),this.saveLocalTasks()}};window.onload=()=>{x.loadLocalTasks().populateAll(A),g.addEventListener("click",(()=>{if(""!==A.innerHTML)if(g.classList.contains("pressed-once"))g.classList.remove("pressed-once"),E.innerHTML="",A.innerHTML="",localStorage.clear();else{g.classList.add("pressed-once");const e="danger",t="Click again to clear all tasks.",n=document.createElement("div");n.innerHTML=`<div class="alert alert-${e} alert-dismissible" role="alert">${t}</div>`,E.append(n)}})),L.addEventListener("click",(()=>{if(y.value){const e=new f({description:y.value,index:x.tasks.length+1});x.add(e).populate(A,e),y.value=""}else k.classList.remove("d-none"),setTimeout((()=>k.classList.remove("opacity-0")),0),setTimeout((()=>k.classList.add("opacity-0")),2e3),setTimeout((()=>k.classList.add("d-none")),3e3)})),y.addEventListener("keyup",(e=>{13===e.keyCode&&L.click()})),C.addEventListener("click",(()=>{x.clearAllCompleted()})),A.addEventListener("dragover",(t=>{e(t,x.tasks,A)})),A.addEventListener("touchmove",(t=>{e(t,x.tasks,A)}))}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WSwyQkFBMkJyQixxQ0FBd0N1QixVQUN2RnRELEVBQWlCd0QsT0FBT0QsT0FLOUJwRCxFQUFNb0MsaUJBQWlCLFNBQVMsS0FDOUIsR0FBSXJDLEVBQVEwQyxNQUFPLENBQ2pCLE1BQU10RCxFQUFPLElBQUlJLEVBQUssQ0FBRUUsWUFBYU0sRUFBUTBDLE1BQU9wSSxNQUFPOEYsRUFBWXRDLE1BQU0zRyxPQUFTLElBQ3RGaUosRUFBWVksSUFBSTVCLEdBQU1vQyxTQUFTNUIsRUFBdUJSLEdBQ3REWSxFQUFRMEMsTUFBUSxRQUVoQnZDLEVBQVF1QixVQUFVdkgsT0FBTyxVQUN6QjBJLFlBQVcsSUFBTTFDLEVBQVF1QixVQUFVdkgsT0FBTyxjQUFjLEdBQ3hEMEksWUFBVyxJQUFNMUMsRUFBUXVCLFVBQVVWLElBQUksY0FBYyxLQUNyRDZCLFlBQVcsSUFBTTFDLEVBQVF1QixVQUFVVixJQUFJLFdBQVcsUUFJdERoQixFQUFRcUMsaUJBQWlCLFNBQVVqSCxJQUNmLEtBQWRBLEVBQUUwSCxTQUFnQjdDLEVBQU1zRCxXQUc5QnJELEVBQVNtQyxpQkFBaUIsU0FBUyxLQUNqQ2pDLEVBQVllLHVCQUdkdkIsRUFBc0J5QyxpQkFBaUIsWUFBYWpILElBQ2xELEVBQWdCQSxFQUFHZ0YsRUFBWXRDLE1BQU84QixNQUd4Q0EsRUFBc0J5QyxpQkFBaUIsYUFBY2pILElBQ25ELEVBQWdCQSxFQUFHZ0YsRUFBWXRDLE1BQU84QixRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VicGFjay1zZXR1cC8uL3NyYy9zdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vd2VicGFjay1zZXR1cC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1zZXR1cC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwid2VicGFjazovL3dlYnBhY2stc2V0dXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1zZXR1cC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1zZXR1cC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLXNldHVwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL3dlYnBhY2stc2V0dXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLXNldHVwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1zZXR1cC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWJwYWNrLXNldHVwL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3dlYnBhY2stc2V0dXAvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3dlYnBhY2stc2V0dXAvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly93ZWJwYWNrLXNldHVwLy4vc3JjL2RyYWcmZHJvcC5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLXNldHVwLy4vc3JjL3N0eWxlLmNzcz83MTYzIiwid2VicGFjazovL3dlYnBhY2stc2V0dXAvLi9zcmMvVGFzay5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLXNldHVwLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3dlYnBhY2stc2V0dXAvLi9zcmMvVGFza01hbmFnZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJpbnB1dDpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG5cXG5pIHtcXG4gIG9wYWNpdHk6IDAuNTtcXG4gIHRyYW5zaXRpb246IG9wYWNpdHkgMC4ycyBlYXNlLWluLW91dDtcXG59XFxuXFxuaTpob3ZlciB7XFxuICBvcGFjaXR5OiAxO1xcbn1cXG5cXG4jY2xlYXItYWxsIHtcXG4gIG9wYWNpdHk6IDAuNTtcXG59XFxuXFxuI2NsZWFyLWFsbDpob3ZlciB7XFxuICBvcGFjaXR5OiAxO1xcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XFxufVxcblxcbiNjbGVhci1hbGw6Zm9jdXMge1xcbiAgYm94LXNoYWRvdzogbm9uZTtcXG59XFxuXFxuLmN1cnNvci1wb2ludGVyIHtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuLmN1cnNvci1tb3ZlIHtcXG4gIGN1cnNvcjogbW92ZTtcXG59XFxuXFxuLnRkLWxpbmUtdGhyb3VnaCB7XFxuICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcXG59XFxuXFxuI3dhcm5pbmcge1xcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAxcyBlYXNlLWluLW91dDtcXG59XFxuXFxuLnRhYmxlID4gOm5vdCg6bGFzdC1jaGlsZCkgPiA6bGFzdC1jaGlsZCA+ICoge1xcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogaW5oZXJpdDtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3N0eWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtFQUNFLGFBQWE7QUFDZjs7QUFFQTtFQUNFLFlBQVk7RUFDWixvQ0FBb0M7QUFDdEM7O0FBRUE7RUFDRSxVQUFVO0FBQ1o7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxVQUFVO0VBQ1YsMEJBQTBCO0FBQzVCOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLFlBQVk7QUFDZDs7QUFFQTtFQUNFLDZCQUE2QjtBQUMvQjs7QUFFQTtFQUNFLGtDQUFrQztBQUNwQzs7QUFFQTtFQUNFLDRCQUE0QjtBQUM5QlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCJpbnB1dDpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG5cXG5pIHtcXG4gIG9wYWNpdHk6IDAuNTtcXG4gIHRyYW5zaXRpb246IG9wYWNpdHkgMC4ycyBlYXNlLWluLW91dDtcXG59XFxuXFxuaTpob3ZlciB7XFxuICBvcGFjaXR5OiAxO1xcbn1cXG5cXG4jY2xlYXItYWxsIHtcXG4gIG9wYWNpdHk6IDAuNTtcXG59XFxuXFxuI2NsZWFyLWFsbDpob3ZlciB7XFxuICBvcGFjaXR5OiAxO1xcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XFxufVxcblxcbiNjbGVhci1hbGw6Zm9jdXMge1xcbiAgYm94LXNoYWRvdzogbm9uZTtcXG59XFxuXFxuLmN1cnNvci1wb2ludGVyIHtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuLmN1cnNvci1tb3ZlIHtcXG4gIGN1cnNvcjogbW92ZTtcXG59XFxuXFxuLnRkLWxpbmUtdGhyb3VnaCB7XFxuICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcXG59XFxuXFxuI3dhcm5pbmcge1xcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAxcyBlYXNlLWluLW91dDtcXG59XFxuXFxuLnRhYmxlID4gOm5vdCg6bGFzdC1jaGlsZCkgPiA6bGFzdC1jaGlsZCA+ICoge1xcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogaW5oZXJpdDtcXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuXG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG5cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRoaXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXNbX2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgbW9kdWxlcy5sZW5ndGg7IF9pMisrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pMl0pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgXCJcIikuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcblxuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG5cbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG5cbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG5cbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG5cbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG5cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cblxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIik7XG4gIH1cblxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG5cbiAgY3NzICs9IG9iai5jc3M7XG5cbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJjb25zdCBnZXREcmFnQWZ0ZXJFbGVtZW50ID0gKGNvbnRhaW5lciwgeSkgPT4ge1xuICBjb25zdCBkcmFnZ2FibGVFbGVtZW50cyA9IFsuLi5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmRyYWdnYWJsZTpub3QoLmRyYWdnaW5nKScpXTtcbiAgcmV0dXJuIGRyYWdnYWJsZUVsZW1lbnRzLnJlZHVjZShcbiAgICAoY2xvc2VzdCwgY2hpbGQpID0+IHtcbiAgICAgIGNvbnN0IGJveCA9IGNoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3Qgb2Zmc2V0ID0geSAtIGJveC50b3AgLSBib3guaGVpZ2h0IC8gMjtcbiAgICAgIGlmIChvZmZzZXQgPCAwICYmIG9mZnNldCA+IGNsb3Nlc3Qub2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB7IG9mZnNldCwgZWxlbWVudDogY2hpbGQgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjbG9zZXN0O1xuICAgIH0sXG4gICAgeyBvZmZzZXQ6IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSB9LFxuICApLmVsZW1lbnQ7XG59O1xuXG5jb25zdCBkcmFnb3ZlckhhbmRsZXIgPSAoZSwgdGFza3MsIGNvbnRhaW5lcikgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IHkgPSBlLmNsaWVudFkgfHwgZS50b3VjaGVzWzBdLmNsaWVudFk7XG4gIGNvbnN0IGFmdGVyRWxlbWVudCA9IGdldERyYWdBZnRlckVsZW1lbnQoY29udGFpbmVyLCB5KTtcbiAgY29uc3QgZHJhZ2dhYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRyYWdnaW5nJyk7XG4gIGNvbnN0IGRyYWdnYWJsZUluZGV4ID0gdGFza3MuZmluZEluZGV4KCh0YXNrKSA9PiB0YXNrLm5vZGUgPT09IGRyYWdnYWJsZSk7XG4gIGxldCBhZnRlckVsZW1lbnRJbmRleDtcbiAgaWYgKCFhZnRlckVsZW1lbnQpIHtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZHJhZ2dhYmxlKTtcbiAgICBhZnRlckVsZW1lbnRJbmRleCA9IHRhc2tzLmxlbmd0aCAtIDE7XG4gIH0gZWxzZSB7XG4gICAgY29udGFpbmVyLmluc2VydEJlZm9yZShkcmFnZ2FibGUsIGFmdGVyRWxlbWVudCk7XG4gICAgYWZ0ZXJFbGVtZW50SW5kZXggPSB0YXNrcy5maW5kSW5kZXgoKHRhc2spID0+IHRhc2subm9kZSA9PT0gYWZ0ZXJFbGVtZW50KSAtIDE7XG4gIH1cbiAgaWYgKGRyYWdnYWJsZUluZGV4ID4gYWZ0ZXJFbGVtZW50SW5kZXgpIGFmdGVyRWxlbWVudEluZGV4ICs9IDE7XG4gIHRhc2tzW2RyYWdnYWJsZUluZGV4XS5hZnRlckVsZW1lbnRJbmRleCA9IGFmdGVyRWxlbWVudEluZGV4O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZHJhZ292ZXJIYW5kbGVyO1xuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFzayB7XG4gIGNvbnN0cnVjdG9yKHsgZGVzY3JpcHRpb24sIGNvbXBsZXRlZCA9IGZhbHNlLCBpbmRleCB9KSB7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIHRoaXMuY29tcGxldGVkID0gY29tcGxldGVkO1xuICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgfVxufVxuIiwiaW1wb3J0IGRyYWdvdmVySGFuZGxlciBmcm9tICcuL2RyYWcmZHJvcC5qcyc7XG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcbmltcG9ydCBUYXNrIGZyb20gJy4vVGFzay5qcyc7XG5pbXBvcnQgVGFza01hbmFnZXIgZnJvbSAnLi9UYXNrTWFuYWdlci5qcyc7XG5cbmNvbnN0IHRhc2tFbGVtZW50c0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0by1kby1saXN0Jyk7XG5jb25zdCByZWZyZXNoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JlZnJlc2gnKTtcbmNvbnN0IGFsZXJ0UGxhY2Vob2xkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGl2ZUFsZXJ0UGxhY2Vob2xkZXInKTtcbmNvbnN0IGFkZFRhc2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWRkLXRhc2snKTtcbmNvbnN0IGVudGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VudGVyJyk7XG5jb25zdCBjbGVhckFsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjbGVhci1hbGwnKTtcbmNvbnN0IHdhcm5pbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd2FybmluZycpO1xuY29uc3QgdGFza01hbmFnZXIgPSBuZXcgVGFza01hbmFnZXIoKTtcblxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcbiAgdGFza01hbmFnZXIubG9hZExvY2FsVGFza3MoKS5wb3B1bGF0ZUFsbCh0YXNrRWxlbWVudHNDb250YWluZXIpO1xuXG4gIHJlZnJlc2guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKHRhc2tFbGVtZW50c0NvbnRhaW5lci5pbm5lckhUTUwgIT09ICcnKSB7XG4gICAgICBpZiAocmVmcmVzaC5jbGFzc0xpc3QuY29udGFpbnMoJ3ByZXNzZWQtb25jZScpKSB7XG4gICAgICAgIHJlZnJlc2guY2xhc3NMaXN0LnJlbW92ZSgncHJlc3NlZC1vbmNlJyk7XG4gICAgICAgIGFsZXJ0UGxhY2Vob2xkZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIHRhc2tFbGVtZW50c0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWZyZXNoLmNsYXNzTGlzdC5hZGQoJ3ByZXNzZWQtb25jZScpO1xuICAgICAgICBjb25zdCB0eXBlID0gJ2Rhbmdlcic7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSAnQ2xpY2sgYWdhaW4gdG8gY2xlYXIgYWxsIHRhc2tzLic7XG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgd3JhcHBlci5pbm5lckhUTUwgPSBgPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LSR7dHlwZX0gYWxlcnQtZGlzbWlzc2libGVcIiByb2xlPVwiYWxlcnRcIj4ke21lc3NhZ2V9PC9kaXY+YDtcbiAgICAgICAgYWxlcnRQbGFjZWhvbGRlci5hcHBlbmQod3JhcHBlcik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBlbnRlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBpZiAoYWRkVGFzay52YWx1ZSkge1xuICAgICAgY29uc3QgdGFzayA9IG5ldyBUYXNrKHsgZGVzY3JpcHRpb246IGFkZFRhc2sudmFsdWUsIGluZGV4OiB0YXNrTWFuYWdlci50YXNrcy5sZW5ndGggKyAxIH0pO1xuICAgICAgdGFza01hbmFnZXIuYWRkKHRhc2spLnBvcHVsYXRlKHRhc2tFbGVtZW50c0NvbnRhaW5lciwgdGFzayk7XG4gICAgICBhZGRUYXNrLnZhbHVlID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdhcm5pbmcuY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHdhcm5pbmcuY2xhc3NMaXN0LnJlbW92ZSgnb3BhY2l0eS0wJyksIDApO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB3YXJuaW5nLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktMCcpLCAyMDAwKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gd2FybmluZy5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKSwgMzAwMCk7XG4gICAgfVxuICB9KTtcblxuICBhZGRUYXNrLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGUpID0+IHtcbiAgICBpZiAoZS5rZXlDb2RlID09PSAxMykgZW50ZXIuY2xpY2soKTtcbiAgfSk7XG5cbiAgY2xlYXJBbGwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgdGFza01hbmFnZXIuY2xlYXJBbGxDb21wbGV0ZWQoKTtcbiAgfSk7XG5cbiAgdGFza0VsZW1lbnRzQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgKGUpID0+IHtcbiAgICBkcmFnb3ZlckhhbmRsZXIoZSwgdGFza01hbmFnZXIudGFza3MsIHRhc2tFbGVtZW50c0NvbnRhaW5lcik7XG4gIH0pO1xuXG4gIHRhc2tFbGVtZW50c0NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCAoZSkgPT4ge1xuICAgIGRyYWdvdmVySGFuZGxlcihlLCB0YXNrTWFuYWdlci50YXNrcywgdGFza0VsZW1lbnRzQ29udGFpbmVyKTtcbiAgfSk7XG59O1xuIiwiaW1wb3J0IFRhc2sgZnJvbSAnLi9UYXNrLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFza01hbmFnZXIge1xuICBjb25zdHJ1Y3Rvcih7IHRhc2tzID0gW10gfSA9IHt9KSB7XG4gICAgdGhpcy50YXNrcyA9IHRhc2tzO1xuICB9XG5cbiAgc2F2ZUxvY2FsVGFza3MoKSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rhc2tzJywgSlNPTi5zdHJpbmdpZnkodGhpcy50YXNrcykpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgbG9hZExvY2FsVGFza3MoKSB7XG4gICAgY29uc3QgdGFza3MgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0YXNrcycpKTtcbiAgICBpZiAodGFza3MpIHtcbiAgICAgIHRhc2tzLmZvckVhY2goKHRhc2ssIGkpID0+IHtcbiAgICAgICAgdGhpcy50YXNrc1tpXSA9IG5ldyBUYXNrKHRhc2spO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc29ydEJ5SW5kZXgoKSB7XG4gICAgdGhpcy50YXNrcy5zb3J0KChhLCBiKSA9PiBhLmluZGV4IC0gYi5pbmRleCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhZGp1c3RJbmRleGVzKCkge1xuICAgIHRoaXMudGFza3MuZm9yRWFjaCgodGFzaywgaSkgPT4ge1xuICAgICAgdGFzay5pbmRleCA9IGkgKyAxO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgYWRkKHRhc2spIHtcbiAgICB0aGlzLnRhc2tzLnB1c2godGFzayk7XG4gICAgcmV0dXJuIHRoaXMuc2F2ZUxvY2FsVGFza3MoKTtcbiAgfVxuXG4gIHJlbW92ZShyZW1vdmVUYXNrKSB7XG4gICAgdGhpcy50YXNrcyA9IHRoaXMudGFza3MuZmlsdGVyKCh0YXNrKSA9PiB0YXNrICE9PSByZW1vdmVUYXNrKTtcbiAgICByZW1vdmVUYXNrLm5vZGUucmVtb3ZlKCk7XG4gICAgcmV0dXJuIHRoaXMuYWRqdXN0SW5kZXhlcygpLnNhdmVMb2NhbFRhc2tzKCk7XG4gIH1cblxuICBjbGVhckFsbENvbXBsZXRlZCgpIHtcbiAgICB0aGlzLnRhc2tzID0gdGhpcy50YXNrcy5maWx0ZXIoKHRhc2spID0+IHtcbiAgICAgIGlmICh0YXNrLmNvbXBsZXRlZCkgdGFzay5ub2RlLnJlbW92ZSgpO1xuICAgICAgcmV0dXJuICF0YXNrLmNvbXBsZXRlZDtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5hZGp1c3RJbmRleGVzKCkuc2F2ZUxvY2FsVGFza3MoKTtcbiAgfVxuXG4gIG1vdmUoZnJvbSwgdG8pIHtcbiAgICB0aGlzLnRhc2tzLnNwbGljZSh0bywgMCwgdGhpcy50YXNrcy5zcGxpY2UoZnJvbSwgMSlbMF0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcG9wdWxhdGVBbGwoY29udGFpbmVyKSB7XG4gICAgdGhpcy5zb3J0QnlJbmRleCgpLnRhc2tzLmZvckVhY2goKHRhc2spID0+IHtcbiAgICAgIHRoaXMucG9wdWxhdGUoY29udGFpbmVyLCB0YXNrKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHBvcHVsYXRlKGNvbnRhaW5lciwgdGFzaykge1xuICAgIC8vIEJ1aWxkIHRyIGVsZW1lbnQgd2l0aCAyIHRkc1xuICAgIGNvbnN0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICB0ci5jbGFzc0xpc3QuYWRkKCdkcmFnZ2FibGUnKTtcbiAgICB0ci5kcmFnZ2FibGUgPSB0cnVlO1xuICAgIGNvbnN0IHRkMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgY29uc3QgY2hlY2tCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGNoZWNrQm94LmNsYXNzTGlzdC5hZGQoJ2Zvcm0tY2hlY2staW5wdXQnKTtcbiAgICBjaGVja0JveC50eXBlID0gJ2NoZWNrYm94JztcbiAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHNwYW4uY2xhc3NMaXN0LmFkZCgncHMtMicpO1xuICAgIHNwYW4uaW5uZXJUZXh0ID0gdGFzay5kZXNjcmlwdGlvbjtcbiAgICB0ZDEuYXBwZW5kQ2hpbGQoY2hlY2tCb3gpO1xuICAgIHRkMS5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICAvLyBCdWlsZCBzZWNvbmQgdGRcbiAgICAvLyA8dGQgaWQ9XCJtZW51LTFcIiBjbGFzcz1cImFsaWduLW1pZGRsZSBwb3NpdGlvbi1yZWxhdGl2ZVwiPlxuICAgIC8vICAgPGRpdiBjbGFzcz1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtZW5kIGFsaWduLWl0ZW1zLWNlbnRlclwiPlxuICAgIC8vICAgICA8aW1nIHNyYz1cImh0dHA6Ly9kaWNvZGlhei5tZS90by1kby1saXN0L2Rpc3QvZWM1MWIzMmE3MDUyNTA0ZDJlMWEucG5nXCIgYWx0PVwibWVudS0xLWJvdFwiIGNsYXNzPVwiaW1nLWZsdWlkIG9wYWNpdHktMFwiPlxuICAgIC8vICAgICAgIDxpbWcgc3JjPVwiaHR0cDovL2RpY29kaWF6Lm1lL3RvLWRvLWxpc3QvZGlzdC82MTM5NGVlZmFlMjg3NTg4N2Q3MS5wbmdcIiBhbHQ9XCJtZW51LTEtdG9wXCIgY2xhc3M9XCJjdXJzb3ItcG9pbnRlciBpbWctZmx1aWQgcG9zaXRpb24tYWJzb2x1dGVcIj5cblxuICAgIC8vIDwvZGl2PlxuICAgIC8vIDwvdGQ+XG4gICAgY29uc3QgdGQyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICB0ZDIuY2xhc3NMaXN0LmFkZCgnYWxpZ24tbWlkZGxlJywgJ3Bvc2l0aW9uLXJlbGF0aXZlJyk7XG4gICAgY29uc3QgdGQyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGQyRGl2LmNsYXNzTGlzdC5hZGQoJ2QtZmxleCcsICdqdXN0aWZ5LWNvbnRlbnQtZW5kJywgJ3BlLTEnKTtcbiAgICBjb25zdCBpbWdCb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XG4gICAgaW1nQm90LmNsYXNzTGlzdC5hZGQoJ2ZhcycsICdmYS1lbGxpcHNpcy12Jyk7XG4gICAgaW1nQm90LmFsdCA9ICdib3QnO1xuICAgIGNvbnN0IGltZ1RvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcbiAgICBpbWdUb3AuY2xhc3NMaXN0LmFkZChcbiAgICAgICdmYXInLFxuICAgICAgJ2ZhLXRyYXNoLWFsdCcsXG4gICAgICAnY3Vyc29yLXBvaW50ZXInLFxuICAgICAgJ2N1cnNvci1tb3ZlJyxcbiAgICAgICdwb3NpdGlvbi1hYnNvbHV0ZScsXG4gICAgICAnb3BhY2l0eS0wJyxcbiAgICApO1xuICAgIGltZ1RvcC5hbHQgPSAndG9wJztcbiAgICAvLyBBcHBlbmQgaW1ncyB0byB0ZDJEaXYgYW5kIHRkMkRpdiB0byB0ZDJcbiAgICB0ZDJEaXYuYXBwZW5kQ2hpbGQoaW1nQm90KTtcbiAgICB0ZDJEaXYuYXBwZW5kQ2hpbGQoaW1nVG9wKTtcbiAgICB0ZDIuYXBwZW5kQ2hpbGQodGQyRGl2KTtcbiAgICAvLyBBcHBlbmQgdGRzIHRvIHRyIGFuZCB0ciB0byBlbGVtZW50XG4gICAgdHIuYXBwZW5kQ2hpbGQodGQxKTtcbiAgICB0ci5hcHBlbmRDaGlsZCh0ZDIpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0cik7XG5cbiAgICAvLyBBZGQgZWxlbWVudCBwcm9wZXJ0eSB0byB0aGlzIHRhc2tcbiAgICB0YXNrLm5vZGUgPSB0cjtcblxuICAgIC8vIEFkZCBpbnRlcmFjdGl2aXR5IHRvIGNoZWNrYm94XG4gICAgY2hlY2tCb3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgaWYgKGNoZWNrQm94LmNoZWNrZWQpIHtcbiAgICAgICAgdGFzay5jb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICBzcGFuLmNsYXNzTGlzdC5hZGQoJ3RkLWxpbmUtdGhyb3VnaCcpO1xuICAgICAgICB0ZDEuY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS01MCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFzay5jb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QucmVtb3ZlKCd0ZC1saW5lLXRocm91Z2gnKTtcbiAgICAgICAgdGQxLmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktNTAnKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2F2ZUxvY2FsVGFza3MoKTtcbiAgICB9KTtcbiAgICAvLyBBZGQgc2FtZSBjbGFzc2VzIGFzIGJlZm9yZSB3aGVuIGNoZWNrYm94IGlzIGNoZWNrZWQgYWZ0ZXIgbG9hZGluZyBwYWdlXG4gICAgaWYgKHRhc2suY29tcGxldGVkKSB7XG4gICAgICBjaGVja0JveC5jaGVja2VkID0gdHJ1ZTtcbiAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZCgndGQtbGluZS10aHJvdWdoJyk7XG4gICAgICB0ZDEuY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS01MCcpO1xuICAgIH1cblxuICAgIC8vIEFkZCBpbnRlcmFjdGl2aXR5IHRvIGRlbGV0ZSBidXR0b25zIGFuZCBkZWxldGluZyBmdW5jdGlvbmFsaXR5XG4gICAgY29uc3QgZWRpdFRhc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGVkaXRUYXNrLnR5cGUgPSAndGV4dCc7XG4gICAgZWRpdFRhc2suY2xhc3NMaXN0LmFkZCgnYm9yZGVyLTAnLCAncHMtMicsICdiZy1zZWNvbmRhcnknLCAndGV4dC13aGl0ZScpO1xuXG4gICAgaW1nVG9wLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKGltZ1RvcC5jbGFzc0xpc3QuY29udGFpbnMoJ2N1cnNvci1tb3ZlJykpIHtcbiAgICAgICAgaW1nQm90LmNsYXNzTGlzdC50b2dnbGUoJ29wYWNpdHktMCcpO1xuICAgICAgICBpbWdUb3AuY2xhc3NMaXN0LnRvZ2dsZSgnb3BhY2l0eS0wJyk7XG4gICAgICAgIGltZ1RvcC5jbGFzc0xpc3QudG9nZ2xlKCdjdXJzb3ItbW92ZScpO1xuICAgICAgICB0ci5jbGFzc0xpc3QuYWRkKCdiZy1zZWNvbmRhcnknKTtcbiAgICAgICAgZWRpdFRhc2sudmFsdWUgPSBzcGFuLmlubmVyVGV4dDtcbiAgICAgICAgdGQxLnJlcGxhY2VDaGlsZChlZGl0VGFzaywgc3Bhbik7XG4gICAgICAgIGVkaXRUYXNrLmZvY3VzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlbW92ZSh0YXNrKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEFkZCBlZGl0aW5nIGZ1bmN0aW9uYWxpdHlcblxuICAgIGVkaXRUYXNrLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc3Bhbi5pbm5lclRleHQgPSBlZGl0VGFzay52YWx1ZTtcbiAgICAgICAgdGQxLnJlcGxhY2VDaGlsZChzcGFuLCBlZGl0VGFzayk7XG4gICAgICAgIGltZ0JvdC5jbGFzc0xpc3QudG9nZ2xlKCdvcGFjaXR5LTAnKTtcbiAgICAgICAgaW1nVG9wLmNsYXNzTGlzdC50b2dnbGUoJ29wYWNpdHktMCcpO1xuICAgICAgICBpbWdUb3AuY2xhc3NMaXN0LnRvZ2dsZSgnY3Vyc29yLW1vdmUnKTtcbiAgICAgICAgdHIuY2xhc3NMaXN0LnJlbW92ZSgnYmctc2Vjb25kYXJ5Jyk7XG4gICAgICAgIHRhc2suZGVzY3JpcHRpb24gPSBlZGl0VGFzay52YWx1ZTtcbiAgICAgICAgdGhpcy5zYXZlTG9jYWxUYXNrcygpO1xuICAgICAgfSwgMTAwKTtcbiAgICB9KTtcblxuICAgIGVkaXRUYXNrLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGUpID0+IHtcbiAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgIGVkaXRUYXNrLmJsdXIoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEFkZCBkcmFnIGFuZCBkcm9wIGZ1bmN0aW9uYWxpdHkgZm9yIGRlc2t0b3BcbiAgICB0ci5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCAoKSA9PiB7XG4gICAgICB0ci5jbGFzc0xpc3QuYWRkKCdkcmFnZ2luZycsICdiZy1saWdodCcpO1xuICAgIH0pO1xuXG4gICAgdHIuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsICgpID0+IHtcbiAgICAgIHRyLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdnaW5nJywgJ2JnLWxpZ2h0Jyk7XG4gICAgICBjb25zdCB0ckluZGV4ID0gdGhpcy50YXNrcy5maW5kSW5kZXgoKHRhc2spID0+IHRhc2subm9kZSA9PT0gdHIpO1xuICAgICAgaWYgKHRySW5kZXggIT09IHRhc2suYWZ0ZXJFbGVtZW50SW5kZXgpIHtcbiAgICAgICAgdGhpcy5tb3ZlKHRySW5kZXgsIHRhc2suYWZ0ZXJFbGVtZW50SW5kZXgpO1xuICAgICAgfVxuICAgICAgdGhpcy5hZGp1c3RJbmRleGVzKCkuc2F2ZUxvY2FsVGFza3MoKTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBkcmFnIGFuZCBkcm9wIGZ1bmN0aW9uYWxpdHkgZm9yIG1vYmlsZVxuICAgIHRyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAoKSA9PiB7XG4gICAgICB0ci5jbGFzc0xpc3QuYWRkKCdkcmFnZ2luZycsICdiZy1saWdodCcpO1xuICAgIH0pO1xuXG4gICAgdHIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCAoKSA9PiB7XG4gICAgICB0ci5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnZ2luZycsICdiZy1saWdodCcpO1xuICAgICAgY29uc3QgdHJJbmRleCA9IHRoaXMudGFza3MuZmluZEluZGV4KCh0YXNrKSA9PiB0YXNrLm5vZGUgPT09IHRyKTtcbiAgICAgIGlmICh0ckluZGV4ICE9PSB0YXNrLmFmdGVyRWxlbWVudEluZGV4KSB7XG4gICAgICAgIHRoaXMubW92ZSh0ckluZGV4LCB0YXNrLmFmdGVyRWxlbWVudEluZGV4KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYWRqdXN0SW5kZXhlcygpLnNhdmVMb2NhbFRhc2tzKCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5zYXZlTG9jYWxUYXNrcygpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJfaSIsIl9pMiIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJzdHlsZXNJbkRPTSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleEJ5SWRlbnRpZmllciIsIm9iaiIsImNzcyIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkRWxlbWVudFN0eWxlIiwiYnlJbmRleCIsInNwbGljZSIsImFwaSIsImRvbUFQSSIsInVwZGF0ZSIsIm5ld09iaiIsInJlbW92ZSIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJpbmRleCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pbmRleCIsIm1lbW8iLCJpbnNlcnQiLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInRhc2tzIiwiY29udGFpbmVyIiwicHJldmVudERlZmF1bHQiLCJhZnRlckVsZW1lbnQiLCJ5IiwicXVlcnlTZWxlY3RvckFsbCIsInJlZHVjZSIsImNsb3Nlc3QiLCJjaGlsZCIsImJveCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm9mZnNldCIsInRvcCIsImhlaWdodCIsIk51bWJlciIsIk5FR0FUSVZFX0lORklOSVRZIiwiZ2V0RHJhZ0FmdGVyRWxlbWVudCIsImNsaWVudFkiLCJ0b3VjaGVzIiwiZHJhZ2dhYmxlIiwiZHJhZ2dhYmxlSW5kZXgiLCJmaW5kSW5kZXgiLCJ0YXNrIiwibm9kZSIsImFmdGVyRWxlbWVudEluZGV4IiwiaW5zZXJ0QmVmb3JlIiwiVGFzayIsImNvbnN0cnVjdG9yIiwiZGVzY3JpcHRpb24iLCJjb21wbGV0ZWQiLCJ0YXNrRWxlbWVudHNDb250YWluZXIiLCJyZWZyZXNoIiwiYWxlcnRQbGFjZWhvbGRlciIsImdldEVsZW1lbnRCeUlkIiwiYWRkVGFzayIsImVudGVyIiwiY2xlYXJBbGwiLCJ3YXJuaW5nIiwidGFza01hbmFnZXIiLCJzYXZlTG9jYWxUYXNrcyIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJsb2FkTG9jYWxUYXNrcyIsInBhcnNlIiwiZ2V0SXRlbSIsImZvckVhY2giLCJzb3J0QnlJbmRleCIsInNvcnQiLCJiIiwiYWRqdXN0SW5kZXhlcyIsImFkZCIsInJlbW92ZVRhc2siLCJmaWx0ZXIiLCJjbGVhckFsbENvbXBsZXRlZCIsIm1vdmUiLCJmcm9tIiwidG8iLCJwb3B1bGF0ZUFsbCIsInBvcHVsYXRlIiwidHIiLCJjbGFzc0xpc3QiLCJ0ZDEiLCJjaGVja0JveCIsInR5cGUiLCJzcGFuIiwiaW5uZXJUZXh0IiwidGQyIiwidGQyRGl2IiwiaW1nQm90IiwiYWx0IiwiaW1nVG9wIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNoZWNrZWQiLCJlZGl0VGFzayIsImNvbnRhaW5zIiwidG9nZ2xlIiwidmFsdWUiLCJyZXBsYWNlQ2hpbGQiLCJmb2N1cyIsInNldFRpbWVvdXQiLCJrZXlDb2RlIiwiYmx1ciIsInRySW5kZXgiLCJvbmxvYWQiLCJpbm5lckhUTUwiLCJjbGVhciIsIm1lc3NhZ2UiLCJ3cmFwcGVyIiwiYXBwZW5kIiwiY2xpY2siXSwic291cmNlUm9vdCI6IiJ9